<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

{{/* Title */}}
<title>{{ if .IsHome }}{{ site.Title }}{{ else }}{{ .Title }} | {{ site.Title }}{{ end }}</title>

{{/* Canonical */}}
<link rel="canonical" href="{{ .Permalink }}" />

{{/* Description */}}
{{ $desc := (.Params.description | default site.Params.description) }}
<meta name="description" content="{{ $desc }}" />

{{/* Robots */}}
<meta name="robots" content="index, follow" />

{{/* Hreflang â€” all language versions + x-default pointing to EN root */}}
{{ range .AllTranslations }}
<link rel="alternate" hreflang="{{ .Language.Lang }}" href="{{ .Permalink }}" />
{{ if eq .Language.Lang "en" }}<link rel="alternate" hreflang="x-default" href="{{ .Permalink }}" />{{ end }}
{{ end }}

{{/* Open Graph */}}
{{ $ogTitle := (.Params.ogTitle | default .Title | default site.Title) }}
{{ $ogDesc  := (.Params.ogDescription | default $desc) }}
{{ $ogImage := (absURL (.Params.ogImage | default site.Params.ogImage)) }}
{{ $ogType  := (.Params.ogType | default "website") }}
<meta property="og:type"        content="{{ $ogType }}" />
<meta property="og:title"       content="{{ $ogTitle }}" />
<meta property="og:description" content="{{ $ogDesc }}" />
<meta property="og:url"         content="{{ .Permalink }}" />
<meta property="og:site_name"   content="{{ site.Title }}" />
<meta property="og:locale"      content="{{ site.Params.locale }}" />
{{ range .Translations }}<meta property="og:locale:alternate" content="{{ .Site.Params.locale }}" />
{{ end }}
{{ with $ogImage }}<meta property="og:image" content="{{ . }}" />{{ end }}

{{/* Twitter Card */}}
<meta name="twitter:card"        content="summary_large_image" />
<meta name="twitter:title"       content="{{ $ogTitle }}" />
<meta name="twitter:description" content="{{ $ogDesc }}" />
{{ with $ogImage }}<meta name="twitter:image" content="{{ . }}" />{{ end }}
{{ with site.Params.twitterHandle }}<meta name="twitter:site" content="{{ . }}" />{{ end }}

{{/* JSON-LD SoftwareApplication */}}
{{ $ld := dict
  "@context"            "https://schema.org"
  "@type"               site.Params.jsonld.type
  "name"                site.Params.jsonld.name
  "operatingSystem"     site.Params.jsonld.operatingSystem
  "applicationCategory" site.Params.jsonld.applicationCategory
  "offers"              (dict
    "@type"         "Offer"
    "price"         site.Params.jsonld.offers_price
    "priceCurrency" site.Params.jsonld.offers_currency
  )
  "url" site.BaseURL
}}
{{- $ld | jsonify | printf "<script type=\"application/ld+json\">%s</script>" | safeHTML -}}

{{/* CDN */}}
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://cdn.jsdelivr.net/npm/daisyui@5" rel="stylesheet" type="text/css" />
<link href="https://cdn.jsdelivr.net/npm/daisyui@5/themes.css" rel="stylesheet" type="text/css" />
